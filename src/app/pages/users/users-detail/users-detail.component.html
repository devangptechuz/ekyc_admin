<section class="user-view">
   <div class="container">
      <div class="user-header d-flex justify-content-between">
         <a href="javascript:void(0)" [routerLink]="['/applications']" routerLinkActive="router-link-active"><i
               class="fa fa-angle-left mr-2"></i>Back</a>
         <div class="d-flex align-items-center">
            <a href="javascript:void(0)" [routerLink]="['/applications/application-history',userId]"
               routerLinkActive="router-link-active" class="mr-3 d-flex align-items-center"><span
                  class="icon-clock mr-2"></span>Application History</a>
            <div class="dropdown more-dropdown">
               <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                  <span class="icon-more-vertical"></span>
               </button>
               <div class="dropdown-menu dropdown-menu-right">
                  <a class="dropdown-item" href="javascript:void(0)" (click)="approveConfirm()">
                     <span class="icon-simple-check"></span> approve</a>
                  <a class="dropdown-item disable" href="javascript:void(0)">
                     <span class="icon-minus-file"></span> request documents</a>
                  <a class="dropdown-item disable" href="javascript:void(0)">
                     <span class="icon-alert-octagon"></span>report application</a>
                  <a class="dropdown-item" href="javascript:void(0)" (click)="rejectConfirm()">
                     <span class="icon-notallow"></span>reject</a>
               </div>
            </div>
         </div>
      </div>
      <!-- User box -->
      <div class="user-box">
         <div class="user-bxhdr d-flex justify-content-between">
            <div class="lft">
               <h2>{{userData?.basic_info?.user_name}}</h2>
               <p class="mb-0 mt-2">application number : {{userData?.basic_info?.application_number | uppercase}}</p>
            </div>
            <div class="rght d-flex align-items-center">
               <p class="mb-0">application submitted</p>
               <!-- <button class="btn btn-custom m-0">Respond <i class="fa fa-angle-down"></i></button> -->
               <div class="dropdown">
                  <button type="button" class="btn dropdown-toggle btn-custom m-0" [ngClass]="{'btn-reject': adminApproval === 'Reject',
                  'btn-aprvd': adminApproval === 'Approved'}" data-toggle="dropdown">
                     {{adminApprovalText || 'Respond'}} <i class="fa fa-angle-down"></i>
                  </button>
                  <div class="dropdown-menu dropdown-menu-right">
                     <a class="dropdown-item" href="javascript:void(0)" (click)="approveConfirm()"><span
                           class="icon-simple-check"></span>
                        approve</a>
                     <a class="dropdown-item" href="javascript:void(0)" (click)="rejectConfirm()"><span
                           class="icon-notallow"></span>reject</a>
                     <!-- <a class="dropdown-item" href="javascript:void(0)"><span class="icon-alert-octagon"></span>report
                        application</a> -->
                  </div>
               </div>
            </div>
         </div>
         <div class="row user-btmbx">
            <div class="col-md-6">
               <div class="d-flex justify-content-between">
                  <a href="mailto:userData?.basic_info?.email">{{userData?.basic_info?.email}}
                     <span *ngIf="!userData?.basic_info?.isEmailVerified" class="yellow-status status-box ml-2">not
                        verified</span>
                     <span *ngIf="userData?.basic_info?.isEmailVerified"
                        class="green-status status-box ml-2">verified</span>
                  </a>
                  <span class="remind-usr"><span class="icon-send"></span>remind user</span>
               </div>
               <a href="tel:+91 userData?.basic_info?.mobileNumber">+91 {{userData?.basic_info?.mobileNumber}}</a>
               <span *ngIf="!userData?.basic_info?.isMobileVerified" class="yellow-status status-box ml-2">NOT
                  VERIFIED</span>
               <span *ngIf="userData?.basic_info?.isMobileVerified" class="green-status status-box ml-2">VERIFIED</span>
               <ul class="icon">
                  <li><a href="javascript:void(0)"><span class="icon-chat"></span></a></li>
                  <li><a href="javascript:void(0)" class="disable"><span class="icon-mail"></span></a></li>
                  <li><a href="javascript:void(0)" class="active"><span class="icon-phone"></span></a></li>
               </ul>
               <span class="will-trad">Willing to trade in </span>
               <p>Equity and Mutual Funds.</p>
            </div>
            <div class="col-md-6">
               <div class="d-flex justify-content-between rgt-hdr">
                  <h4 class="mb-0">Documents Uploaded</h4>
                  <a href="javascript:void(0)" (click)="openPopupModal()"><span class="icon-upload"></span> Upload
                     document</a>
               </div>
               <ul class="docupld-link">
                  <li class="" [ngClass]="{'active': item?.document_status!=='not_uploaded'}"
                     *ngFor="let item of userData?.basic_info?.document_uploaded">
                     <a href="javascript:void(0)">
                        <span class="icon-check-circle"></span>{{item?.document_button_lable}}
                     </a>
                  </li>
                  <!-- <li class="active"><a href="javascript:void(0)">
                     <span class="icon-check-circle"></span>PAN card</a>
                  </li>
                  <li><a href="javascript:void(0)"><span class="icon-check-circle"></span>address proof</a></li>
                  <li><a href="javascript:void(0)"><span class="icon-check-circle"></span>signature</a></li>
                  <li><a href="javascript:void(0)"><span class="icon-check-circle"></span>bank statement</a></li>
                  <li><a href="javascript:void(0)"><span class="icon-check-circle"></span>cancelled cheque</a></li>
                  <li><a href="javascript:void(0)"><span class="icon-check-circle"></span>photograph</a></li>
                  <li><a href="javascript:void(0)"><span class="icon-check-circle"></span>in person video</a></li> -->
               </ul>
               <button class="btn btn-custom disabled">reveiw all</button>
            </div>
         </div>
      </div>
      <!-- User box - Account Opening Charges-->
      <div class="user-box">
         <div class="user-bxhdr d-flex justify-content-between">
            <div class="lft">
               <h2>Account Opening Charges</h2>
            </div>
            <div class="rght d-flex align-items-center"><span class="green-status">Payment received <span
                     class="icon-check-circle"></span></span></div>
         </div>
         <div class="row user-btmbx">
            <div class="col-md-6">
               <span class="cmn-txt mb-3 d-block">Paid on Jan 20 2020 - 02:56 PM</span>
               <div class="row cmn-layout">
                  <div class="col-md-6 d-flex flex-column mb-3"><label>Transaction Amount</label>â‚¹ 300 /-</div>
                  <div class="col-md-6 d-flex flex-column mb-3"><label>Transaction ID</label>AD1278647999S33</div>
                  <div class="col-md-12 d-flex flex-column mb-3"><label>Payment Mode</label>ICICI Debit Card - Rajat
                     Boss - 15xx xxxx xxxx xx24</div>
                  <div class="col-md-12 d-flex flex-column mb-3"><label>Current Status</label>Received by GetProsper
                  </div>
                  <div class="col-md-12 d-flex flex-column"><label>Discount Code used</label>- - None - -</div>
               </div>
            </div>
            <div class="col-md-6">
               <span class="cmn-txt mb-3 d-block">Received on Jan 20 2020 - 05:36 PM</span>
               <p class="mb-1">The transaction receipt was generated on 20 Jan 2020 - 06:36 & was successfully sent to
                  the user via email on 20 Jan 2020 - 07:36</p>
               <button class="btn btn-custom font-sml disabled">View receipt</button>
            </div>
         </div>
      </div>
      <!-- User box - Aadhaar Details-->
      <div class="user-box">
         <div class="user-bxhdr d-flex justify-content-between">
            <div class="lft">
               <h2>Aadhaar Details</h2>
               <p><strong>{{userData?.aadhar_details?.aadhar_number | mask:'AAAA AAAA AAAA'}}</strong>
                  <span *ngIf="userData?.aadhar_details?.isKRAVerified"
                     class="green-status status-box ml-2">VERIFIED</span>
                  <span *ngIf="userData?.aadhar_details?.isAadharVerifiedByDigiLocker"
                     class="green-status status-box ml-2">VERIFIED</span>
                  <span
                     *ngIf="!userData?.aadhar_details?.isAadharVerifiedByDigiLocker && !userData?.aadhar_details?.isKRAVerified"
                     class="yellow-status status-box ml-2">NOT
                     VERIFIED</span>
               </p>
            </div>
         </div>
         <div class="row user-btmbx">
            <div class="col-md-6">
               <div class="d-flex justify-content-between mb-3">
                  <!-- <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span> -->
                  <span class="digi-text" *ngIf="userData?.aadhar_details?.isAadharVerifiedByDigiLocker">
                     Submitted using DigiLocker <img src="assets/img/digilocker.svg" alt="icon" class="ml-2">
                  </span>
                  <!-- <span class="digi-text" *ngIf="userData?.aadhar_details?.isAadharFileVerifiedByDigiLocker">
                     Submitted using DigiLocker <img src="assets/img/digilocker.svg" alt="icon" class="ml-2">
                  </span> -->
               </div>
               <div class="row cmn-layout">
                  <div class="col-md-12 d-flex flex-column mb-3"><label>Full
                        Name</label>{{userData?.aadhar_details?.full_name}}</div>
                  <div class="col-md-6 d-flex flex-column mb-3">
                     <label>DOB</label>{{userData?.pan_details?.date_of_birth}}
                  </div>
                  <div class="col-md-6 d-flex flex-column mb-3">
                     <label>Gender</label>{{userData?.aadhar_details?.gender}}</div>
                  <div class="col-md-6 d-flex flex-column"><label>Permanent
                        Address</label>
                     <!-------------- KRA VERIFY DATA: START -------------->
                     <ng-container *ngIf="userData?.personal_details?.permanent_address?.address_line1">
                        {{userData?.personal_details?.permanent_address?.address_line1}},</ng-container>
                     <ng-container *ngIf="userData?.personal_details?.permanent_address?.address_line2">
                        {{userData?.personal_details?.permanent_address?.address_line2}},</ng-container>
                     <ng-container *ngIf="userData?.personal_details?.permanent_address?.address_line3">
                        {{userData?.personal_details?.permanent_address?.address_line3}},</ng-container>
                     <ng-container *ngIf="userData?.personal_details?.permanent_address?.pin_code">
                        {{userData?.personal_details?.permanent_address?.pin_code | mask:'000 000'}}
                     </ng-container>
                     <ng-container *ngIf="userData?.personal_details?.permanent_address?.country">
                        {{userData?.personal_details?.permanent_address?.country}}</ng-container>
                     <!-------------- KRA VERIFY DATA: END -------------->
                  </div>
               </div>
               <button class="btn btn-custom font-sml disabled">request reveiw</button>
            </div>
            <div class="col-md-6">
               <div class="d-flex justify-content-between mb-2">
                  <span class="cmn-txt"
                     *ngIf="userData?.aadhar_details?.uploaded_date">{{userData?.aadhar_details?.uploaded_date}}</span>
                  <span class="digi-text" *ngIf="userData?.aadhar_details?.isPanFileVerifiedByDigiLocker">Submitted
                     using DigiLocker <img src="assets/img/digilocker.svg" alt="icon" class="ml-2"></span>
               </div>
               <div class="doc-upbox">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item"
                           (click)="openDocumentPopupModal(aadhaarKYCDocuments?.document_name, aadhaarKYCDocuments?.document_modal_title, aadhaarKYCDocuments?.document_status, aadhaarKYCDocuments)">Upload
                           document</a>
                     </div>
                  </div>
                  <ngb-carousel *ngIf="userData?.aadhar_details?.aadhar_documents?.length">
                     <ng-template ngbSlide *ngFor="let imageAadhaar of userData?.aadhar_details?.aadhar_documents">
                        <div class="picsum-img-wrapper" *ngIf="imageAadhaar?.content_type === 'application/pdf'">
                           <iframe [src]="imageAadhaar?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageAadhaar?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageAadhaar?.url" alt="Random first slide">
                        </div>
                        <!-- <div class="carousel-caption">
                              <h3>{{imageItem?.id}}</h3>
                           </div> -->
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">aadhaar card</label>
            </div>
         </div>
      </div>
      <!-- User box - permanent account number (PAN)-->
      <div class="user-box">
         <div class="user-bxhdr d-flex justify-content-between">
            <div class="lft">
               <h2>permanent account number (PAN)</h2>
               <p *ngIf="userData?.pan_details?.pan_number"><strong>{{userData?.pan_details?.pan_number}}</strong>
                  <span *ngIf="userData?.pan_details?.pan_number" class="green-status status-box ml-2">VERIFIED</span>
               </p>
            </div>
         </div>
         <div class="row user-btmbx">
            <div class="col-md-6">
               <!-- <div class="d-flex justify-content-between mb-3">
                  <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span>
               </div> -->
               <div *ngIf="userData?.pan_details?.pan_number" class="d-flex justify-content-between mb-3">
                  <!-- <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span> -->
                  <span class="digi-text" *ngIf="userData?.pan_details?.isPanFileVerifiedByDigiLocker">
                     Submitted using DigiLocker <img src="assets/img/digilocker.svg" alt="icon" class="ml-2">
                  </span>
                  <span class="digi-text" *ngIf="userData?.aadhar_details?.isPanVerifiedByKRA">
                     Submitted using KRA <img src="assets/img/digilocker.svg" alt="icon" class="ml-2">
                  </span>
               </div>
               <div class="row cmn-layout">
                  <div class="col-md-12 d-flex flex-column mb-3"><label>Full
                        Name</label>{{userData?.pan_details?.full_name}}</div>
                  <div class="col-md-12 d-flex flex-column mb-3">
                     <label>DOB</label>{{userData?.pan_details?.date_of_birth}}</div>
                  <div class="col-md-12 d-flex flex-column mb-3"><label>fatherâ€™s/spouse's
                        name</label>{{userData?.personal_details?.father_name}}</div>
                  <div class="col-md-12 d-flex flex-column mb-3"><label>Motherâ€™s
                        name</label>{{userData?.personal_details?.mother_name}}</div>
               </div>
               <button class="btn btn-custom font-sml disabled">request reveiw</button>
            </div>
            <div class="col-md-6">
               <!-- <div class="d-flex justify-content-between mb-2">
                  <span class="cmn-txt">uploaded on Jan 20 2020 - 05:36 PM</span>
               </div> -->
               <div class="doc-upbox">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item"
                           (click)="openDocumentPopupModal(panDocumentKYCDocuments?.document_name, panDocumentKYCDocuments?.document_modal_title, panDocumentKYCDocuments?.document_status, panDocumentKYCDocuments)">Upload
                           document</a>
                     </div>
                  </div>
                  <ngb-carousel *ngIf="userData?.pan_details?.pan_documents?.length">
                     <ng-template ngbSlide *ngFor="let imageItem of userData?.pan_details?.pan_documents">
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type === 'application/pdf'">
                           <iframe [src]="imageItem?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageItem?.url" alt="Random first slide">
                        </div>
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">PAN Card</label>
            </div>
         </div>
      </div>
      <!-- User box - personal & address details-->
      <div class="user-box">
         <div class="user-bxhdr d-flex justify-content-between">
            <div class="lft">
               <h2>personal & address details</h2>
            </div>
            <div class="rght d-flex align-items-center"><span class="red-status">name does not match with aadhaar <span
                     class="icon-alert ml-3"></span></span></div>
         </div>
         <div class="row user-btmbx">
            <div class="col-md-6">
               <!-- <div class="d-flex justify-content-between mb-3">
                  <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span>
               </div> -->
               <div class="row cmn-layout">
                  <div class="col-md-12 d-flex flex-column mb-3"><label>Full
                        Name</label>{{userData?.personal_details?.full_name}}</div>
                  <div class="col-md-6 d-flex flex-column mb-3">
                     <label>DOB</label>{{userData?.personal_details?.date_of_birth}}</div>
                  <div class="col-md-6 d-flex flex-column mb-3">
                     <label>Gender</label>{{userData?.personal_details?.gender}}</div>
                  <div class="col-md-6 d-flex flex-column"><label>Permanent Address</label>
                     <p>
                        <!-------------- KRA VERIFY DATA: START -------------->
                        <ng-container *ngIf="userData?.personal_details?.permanent_address?.address_line1">
                           {{userData?.personal_details?.permanent_address?.address_line1}},</ng-container>
                        <ng-container *ngIf="userData?.personal_details?.permanent_address?.address_line2">
                           {{userData?.personal_details?.permanent_address?.address_line2}},</ng-container>
                        <ng-container *ngIf="userData?.personal_details?.permanent_address?.address_line3">
                           {{userData?.personal_details?.permanent_address?.address_line3}},</ng-container>
                        <ng-container *ngIf="userData?.personal_details?.permanent_address?.pin_code">
                           {{userData?.personal_details?.permanent_address?.pin_code | mask:'000 000'}}
                        </ng-container>
                        <ng-container *ngIf="userData?.personal_details?.permanent_address?.country">
                           {{userData?.personal_details?.permanent_address?.country}}</ng-container>
                        <!-------------- KRA VERIFY DATA: END -------------->
                     </p>
                  </div>
                  <div class="col-md-6 d-flex flex-column"><label>Corrospondance Address</label>
                     <ng-container *ngIf="userData?.personal_details?.corrospondence_address?.address_line1">
                        {{userData?.personal_details?.corrospondence_address?.address_line1}},</ng-container>
                     <ng-container *ngIf="userData?.personal_details?.corrospondence_address?.address_line2">
                        {{userData?.personal_details?.corrospondence_address?.address_line2}},</ng-container>
                     <ng-container *ngIf="userData?.personal_details?.corrospondence_address?.address_line3">
                        {{userData?.personal_details?.corrospondence_address?.address_line3}},</ng-container>
                     <ng-container *ngIf="userData?.personal_details?.corrospondence_address?.pin_code">
                        {{userData?.personal_details?.corrospondence_address?.pin_code | mask:'000 000'}}
                     </ng-container>
                     <ng-container *ngIf="userData?.personal_details?.corrospondence_address?.country">
                        {{userData?.personal_details?.corrospondence_address?.country}}
                     </ng-container>
                  </div>
               </div>
               <button class="btn btn-custom btn-border font-sml"
                  [routerLink]="['/applications/edit-personal-address',userId]"
                  routerLinkActive="router-link-active">edit
                  details</button>
               <button class="btn btn-custom font-sml disabled">request reveiw</button>
            </div>
            <div class="col-md-6">
               <!-- <div class="d-flex justify-content-between mb-2">
                  <span class="cmn-txt">uploaded on Jan 20 2020 - 05:36 PM</span>
               </div> -->
               <div class="doc-upbox">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item"
                           (click)="openDocumentPopupModal(addressProofKYCDocuments?.document_name, addressProofKYCDocuments?.document_modal_title, addressProofKYCDocuments?.document_status, addressProofKYCDocuments)">Upload
                           document</a>
                     </div>

                  </div>
                  <ngb-carousel *ngIf="userData?.personal_details?.address_url?.length">
                     <ng-template ngbSlide *ngFor="let imageItem of userData?.personal_details?.address_url">
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type === 'application/pdf'">
                           <iframe [src]="imageItem?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageItem?.url" alt="Random first slide">
                        </div>
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">Address Proof</label>
            </div>
         </div>
      </div>
      <!-- User box - bank details-->
      <div class="user-box">
         <div class="user-bxhdr d-flex justify-content-between">
            <div class="lft">
               <h2>Bank details</h2>
            </div>
            <div class="rght d-flex align-items-center"><span class="red-status">name does not match with aadhaar <span
                     class="icon-alert ml-3"></span></span></div>
         </div>
         <div class="row user-btmbx">
            <div class="col-md-6">
               <!-- <div class="d-flex justify-content-between mb-3">
                  <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span>
               </div> -->
               <div class="row cmn-layout">
                  <div class="col-md-12 d-flex flex-column mb-3"><label>name registered at bank</label>
                     {{userData?.bank_details?.full_name}}
                  </div>
                  <div class="col-md-12 d-flex flex-column mb-3"><label>IFSC Code</label>
                     {{userData?.bank_details?.ifsc_code}}
                  </div>
                  <div class="col-md-12 d-flex flex-column mb-3"><label>bank name</label>
                     {{userData?.bank_details?.bank_name}}
                  </div>
                  <div class="col-md-12 d-flex flex-column"><label>branch address</label>
                     {{userData?.bank_details?.branch_address?.address}}
                  </div>
               </div>
               <button class="btn btn-custom btn-border font-sml" [routerLink]="['/applications/bank-details',userId]"
                  routerLinkActive="router-link-active">edit details</button>
               <button class="btn btn-custom font-sml disabled">request reveiw</button>
            </div>
            <div class="col-md-6">
               <!-- <div class="d-flex justify-content-between mb-2">
                  <span class="cmn-txt">uploaded on Jan 20 2020 - 05:36 PM</span>
               </div> -->

               <!-- <div class="d-flex justify-content-between mb-2 mt-3">
                  <span class="cmn-txt">uploaded on Jan 20 2020 - 05:36 PM</span>
               </div> -->
               <div class="doc-upbox">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item"
                           (click)="openDocumentPopupModal(cancelledChequeKYCDocuments?.document_name, cancelledChequeKYCDocuments?.document_modal_title, cancelledChequeKYCDocuments?.document_status, cancelledChequeKYCDocuments)">Upload
                           document</a>
                     </div>
                  </div>

                  <!-- /************* Bank statement : CAROUSEL **************/ -->
                  <ngb-carousel *ngIf="userData?.bank_details?.cancelled_cheque_url?.length">
                     <ng-template ngbSlide *ngFor="let imageItem of userData?.bank_details?.cancelled_cheque_url">
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type === 'application/pdf'">
                           <iframe [src]="imageItem?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageItem?.url" alt="Random first slide">
                        </div>
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">Cancelled Check</label>

               <!-- <div class="d-flex justify-content-between mb-2">
                  <span class="cmn-txt">uploaded on Jan 20 2020 - 05:36 PM</span>
               </div> -->

               <!-- <div class="d-flex justify-content-between mb-2 mt-3">
                  <span class="cmn-txt">uploaded on Jan 20 2020 - 05:36 PM</span>
               </div> -->
               <div class="doc-upbox mt-4">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item"
                           (click)="openDocumentPopupModal(bankStatementKYCDocuments?.document_name, bankStatementKYCDocuments?.document_modal_title, bankStatementKYCDocuments?.document_status, bankStatementKYCDocuments)">Upload
                           document</a>
                     </div>

                  </div>

                  <!-- /************* Bank statement : CAROUSEL **************/ -->
                  <ngb-carousel *ngIf="userData?.bank_details?.bank_statement_url?.length">
                     <ng-template ngbSlide *ngFor="let imageItem of userData?.bank_details?.bank_statement_url">
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type === 'application/pdf'">
                           <iframe [src]="imageItem?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageItem?.url" alt="Random first slide">
                        </div>
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">bank statement</label>
            </div>
         </div>
      </div>
      <!-- User box - signature & identity-->
      <div class="user-box">
         <div class="user-bxhdr d-flex justify-content-between">
            <div class="lft">
               <h2>signature & identity</h2>
            </div>
         </div>
         <div class="row user-btmbx">
            <div class="col-md-6 border-0">
               <!-- <div class="d-flex justify-content-between mb-3">
                  <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span>
               </div> -->
               <div class="doc-upbox" [ngClass]="{'signature-box': userData?.sign_and_identity?.sign_url}">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="javascript:void(0)"
                           (click)="openSinaturePopupModal(signatureKYCDocuments?.document_name, signatureKYCDocuments?.document_modal_title, signatureKYCDocuments?.document_status, signatureKYCDocuments)">Upload
                           document</a>
                     </div>
                  </div>
                  <!-- /************* Signature : CAROUSEL **************/ -->
                  <ngb-carousel *ngIf="userData?.sign_and_identity?.sign_url?.length">
                     <ng-template ngbSlide *ngFor="let imageItem of userData?.sign_and_identity?.sign_url">
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type === 'application/pdf'">
                           <iframe [src]="imageItem?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageItem?.url" alt="Random first slide">
                        </div>
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">signature</label>
            </div>
            <div class="col-md-6">
               <!-- <div class="d-flex justify-content-between mb-3">
                  <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span>
               </div> -->
               <div class="doc-upbox">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item"
                           (click)="openDocumentPopupModal(photographKYCDocuments?.document_name, photographKYCDocuments?.document_modal_title, photographKYCDocuments?.document_status, photographKYCDocuments)">Upload
                           document</a>
                     </div>
                  </div>
                  <!-- /************* Photograph : CAROUSEL **************/ -->
                  <ngb-carousel *ngIf="userData?.sign_and_identity?.photograph_url?.length">
                     <ng-template ngbSlide *ngFor="let imageItem of userData?.sign_and_identity?.photograph_url">
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type === 'application/pdf'">
                           <iframe [src]="imageItem?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageItem?.url" alt="Random first slide">
                        </div>
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">Photograph</label>
            </div>
            <div class="col-md-6 last mx-auto mt-5">
               <!-- <div class="d-flex justify-content-between mb-3">
                  <span class="cmn-txt">Paid on Jan 20 2020 - 02:56 PM</span>
               </div> -->
               <div class="doc-upbox">
                  <div class="dropdown more-dropdown">
                     <button type="button" class="btn dropdown-toggle" data-toggle="dropdown">
                        <span class="icon-more-vertical"></span>
                     </button>
                     <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="javascript:void(0)"
                           (click)="openIPVPopupModal(ipvKYCDocuments?.document_name, ipvKYCDocuments?.document_modal_title, ipvKYCDocuments?.document_status, ipvKYCDocuments)">
                           Upload document</a>
                     </div>
                  </div>
                  <!-- /************* IN PERSON VIDEO : CAROUSEL **************/ -->
                  <ngb-carousel *ngIf="userData?.sign_and_identity?.ipv_documents?.length">
                     <ng-template ngbSlide *ngFor="let imageItem of userData?.sign_and_identity?.ipv_documents">
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type === 'application/pdf'">
                           <iframe [src]="imageItem?.url | safeUrl" height="100%" width="100%"></iframe>
                        </div>
                        <div class="picsum-img-wrapper" *ngIf="imageItem?.content_type !== 'application/pdf'">
                           <img width="100%" [src]="imageItem?.url" alt="Random first slide">
                        </div>
                     </ng-template>
                  </ngb-carousel>
               </div>
               <label class="doc-type">In Person Video</label>
            </div>
         </div>
      </div>
   </div>
</section>

<ng-template #fileuploadAadharpopup let-c="close" let-d="dismiss">

   <div class="modal-body p-0 payment-popup uploaddoc-popup">
      <div class="modal-header yellowclr common-header">
         <div class="popup-header">
            <span>Upload Document</span>
            <h4 class="modal-title">{{nameOfTitleDocument}}</h4>
         </div>
         <div class="popup-icon">
            <img src="assets/img/doc.svg">
         </div>
      </div>

      <div class="col-md-4" [hidden]="!globalDocumentPopup">
         <div class="form-group">
            <label>Document Selection </label>
            <ng-select placeholder="select" [searchable]="false" [items]="dropdownDocumentList"
               bindLabel="document_button_lable" bindValue="document_name" [clearable]="false"
               [(ngModel)]="defaultSelectedDocument" (change)="documentSelection($event)">
               <!-- <ng-option [value]="item.document_name" *ngFor="let item of dropdownDocumentList">
                  {{item.document_button_lable}}</ng-option> -->
            </ng-select>
         </div>
      </div>

      <!--------------------- Webcome code: START --------------------->
      <div *ngIf="clickedWebcamPicture && !fileUploading && !viewSectionOfImage">
         <div class="snapshot row mr-md-0">
            <div class="col-md-10" *ngIf="!liveWebcam">
               <div class="upload-doc-box">
                  <img [src]="webCamMediaPriview" />
                  <span (click)="removeWebCamMedia(webCamMediaPriview)"><img src="assets/img/modal-upload/edit.svg">Edit
                     Image/File</span>
               </div>
            </div>
            <div class="col-md-10" *ngIf="liveWebcam">
               <div class="upload-doc-box d-flex justify-content-center align-items-center">
                  <webcam [trigger]="triggerObservable" (imageCapture)="handleImage($event)"
                     [allowCameraSwitch]="allowCameraSwitch" [switchCamera]="nextWebcamObservable"
                     [videoOptions]="videoOptions" [imageQuality]="1" (cameraSwitched)="cameraWasSwitched($event)"
                     (initError)="handleInitError($event)" class="webcam">
                  </webcam>
               </div>
            </div>

            <div class="col-md-2 p-md-0">
               <div class="scroll-upload">
                  <button *ngIf="liveWebcam" class="actionBtn" (click)="triggerSnapshot();">Take A Snapshot</button>
                  <button class="add-img" (click)="addNewDocumentImage()"><span>+</span>Add New
                     Image/File</button>
                  <button class="view-img" *ngFor="let mediaPreview of webCamMediaList; let i = index">
                     <div class="img-td-div" (click)="webCamShowMediaBig(i)">
                        <img src="{{ mediaPreview }}" alt="img">
                     </div>
                  </button>
               </div>
            </div>
         </div>

         <h4 *ngIf="errors.length > 0">Messages:</h4>
         <ul *ngFor="let error of errors">
            <li>{{error | json}}</li>
         </ul>
      </div>
      <!--------------------- Webcome code: End --------------------->

      <!----------------- UPLOAD image/file aadhar: START -------------->
      <div class="row mr-md-0" *ngIf="!viewSectionOfImage">
         <div class="col-md-10" *ngIf="!fileUploading">
            <div class="upload-box" *ngIf="addNewAadhaarImageUpload">
               <a (click)="enableWebcamPicture()" href="javascript:void(0)" class="d-flex flex-column"><img
                     src="assets/img/modal-upload/camera.svg">
                  <div class="d-flex align-items-center"><img src="assets/img/modal-upload/camera-sml.svg">Use Camera
                  </div>
               </a>
               <div class="or-text"><span>OR</span></div>
               <a href="javascript:void(0)" class="d-flex flex-column align-items-center upload-file"><img
                     src="assets/img/modal-upload/file-minus.svg">
                  <input type="file" ng2FileSelect [uploader]="uploader" multiple>
                  <div class="d-flex"><img src="assets/img/modal-upload/upload.svg">Upload File</div>
               </a>
            </div>

            <div class="upload-doc-box d-flex justify-content-center align-items-center"
               *ngIf="!addNewAadhaarImageUpload && !clickedWebcamPicture">
               <img *ngIf="aadharDisplayImage?.contentType !== 'application/pdf'" src="{{aadharDisplayImage?.file}}">
               <img *ngIf="aadharDisplayImage?.contentType === 'application/pdf'"
                  src="assets/img/modal-upload/pdf_icon.png" style="width: 100px; object-fit: contain;">
               <span (click)="removeAadhaarMedia(aadharDisplayImage?.file)"><img
                     src="assets/img/modal-upload/edit.svg">Edit
                  Image/File</span>
            </div>
         </div>

         <div class="col-md-10" *ngIf="fileUploading">
            <div class="upload-box upload-progress">
               <h5>Uploading File...</h5>
               <div class="progress-ratio d-flex justify-content-between"><span>
                     Uploading...</span><span>{{uploadProgress}} %</span></div>
               <div class="progress">
                  <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploadProgress + '%' }"></div>
               </div>
               <p>Please wait, This may take some time</p>
            </div>
         </div>

         <div class="col-md-2 p-md-0" *ngIf="!clickedWebcamPicture">
            <div class="scroll-upload">
               <button class="add-img" (click)="addNewDocumentImage()"><span>+</span>Add New Image/File</button>
               <button class="view-img" *ngFor="let mediaPreview of mediaPreviews; let i = index">
                  <div class="img-td-div" (click)="documentShowBigMedia(i,true)">
                     <img *ngIf="mediaPreview?.contentType !== 'application/pdf'" src="{{ mediaPreview?.file }}"
                        alt="img">
                     <img *ngIf="mediaPreview?.contentType === 'application/pdf'"
                        src="assets/img/modal-upload/pdf_icon.png" alt="img" class="pdf-listview">
                  </div>
               </button>
            </div>
         </div>
      </div>
      <!----------------- UPLOAD image/file aadhar: END -------------->

      <!----------------- VIEW image/file : START -------------->
      <div class="row mr-md-0" *ngIf="viewSectionOfImage">
         <div class="col-md-10" *ngIf="!fileUploading">
            <div class="upload-doc-box"
               *ngIf="viewPreviewDisplayImage?.content_type === 'image/jpeg' || viewPreviewDisplayImage?.content_type === 'image/jpg' || viewPreviewDisplayImage?.content_type === 'image/png'">
               <img src="{{viewPreviewDisplayImage?.url}}">
               <span (click)="removeViewSectionMedia(viewPreviewDisplayImage?.id)">
                  <img src="assets/img/modal-upload/edit.svg">Remove Image/File</span>
            </div>

            <div class="upload-doc-box" *ngIf="viewPreviewDisplayImage?.content_type === 'application/pdf'">
               <iframe [src]="viewPreviewDisplayImage?.url | safeUrl" height="100%" width="100%"></iframe>
               <span (click)="removeViewSectionMedia(viewPreviewDisplayImage?.id)">
                  <img src="assets/img/modal-upload/edit.svg">Remove Image/File</span>

            </div>
         </div>

         <div class="col-md-2 p-md-0">
            <div class="scroll-upload">
               <button class="add-img" (click)="addNewDocumentImage()"><span>+</span>Add New
                  Image/File</button>
               <button class="view-img" *ngFor="let mediaPreview of viewMediaPreviewsList; let i = index">
                  <div class="img-td-div" (click)="previewImageBig(i)">
                     <img *ngIf="mediaPreview?.content_type !== 'application/pdf'" src="{{ mediaPreview?.url }}"
                        alt="img">
                     <img *ngIf="mediaPreview?.content_type === 'application/pdf'"
                        src="assets/img/modal-upload/pdf_icon.png" alt="img">
                  </div>
               </button>
            </div>
         </div>
      </div>
      <!----------------- VIEW image/file : END -------------->

      <div class="modal-footer d-flex justify-content-between">
         <a class="btn modal-btn-cancel" (click)="c('cancel')" href="javascript:void(0)">{{'Cancel'}}</a>
         <a *ngIf="!clickedWebcamPicture" [ngClass]="{'disabled': !uploader?.getNotUploadedItems().length}"
            class="btn modal-btn-continue" (click)="submitDocumentUploadModal()" href="javascript:void(0)">
            {{'Save & Continue'}}
         </a>
         <a *ngIf="clickedWebcamPicture" [ngClass]="{'disabled': !webCamMediaList?.length}"
            class="btn modal-btn-continue" (click)="submitWebCamUploadModal()" href="javascript:void(0)">
            {{'Save & Continue'}}
         </a>
      </div>
   </div>
</ng-template>

<ng-template #fileuploadSignaturepopup let-c="close" let-d="dismiss">

   <div class="modal-body p-0 payment-popup uploaddoc-popup">
      <div class="modal-header yellowclr common-header">
         <div class="popup-header">
            <span>Upload Document</span>
            <h4 class="modal-title">{{nameOfTitleDocument}}</h4>
         </div>
         <div class="popup-icon">
            <img src="assets/img/doc.svg">
         </div>
      </div>
      <!--------------------- SIGNATURE code: START --------------------->
      <div *ngIf="isEnableSignaturePad && !viewSectionOfImage">

         <div class="snapshot row mr-md-0">
            <div class="col-md-10">
               <ng-signature-pad backgroundColor="#F7F7F7" format="base64" (done)="showImage($event)"
                  clearButtonClass="btn btn-custom" doneButtonClass="btn btn-custom">
               </ng-signature-pad>
               <!-- <img [src]="signatureImage" *ngIf="signatureImage" /> -->
            </div>

            <div class="col-md-2 p-md-0">
               <div class="scroll-upload">
                  <button class="add-img" (click)="addNewDocumentImage()"><span>+</span>Add New
                     Image/File</button>
                  <button class="view-img" *ngFor="let mediaPreview of webCamMediaList; let i = index">
                     <div class="img-td-div" (click)="webCamShowMediaBig(i)">
                        <img src="{{ mediaPreview }}" alt="img">
                     </div>
                  </button>
               </div>
            </div>
         </div>

         <h4 *ngIf="errors.length > 0">Messages:</h4>
         <ul *ngFor="let error of errors">
            <li>{{error | json}}</li>
         </ul>
      </div>
      <!--------------------- SIGNATURE code: End --------------------->

      <!----------------- UPLOAD image/file aadhar: START -------------->
      <div class="row mr-md-0" *ngIf="!viewSectionOfImage && !isEnableSignaturePad">
         <div class="col-md-10" *ngIf="!fileUploading">
            <div class="upload-box" *ngIf="addNewAadhaarImageUpload">
               <a (click)="enableSignaturePad()" href="javascript:void(0)" class="d-flex flex-column"><img
                     src="assets/img/modal-upload/signature.svg">
                  <div class="d-flex align-items-center">
                     <img src="assets/img/modal-upload/signature-blue.svg">Use Signature Pad
                  </div>
               </a>
               <div class="or-text"><span>OR</span></div>
               <a href="javascript:void(0)" class="d-flex flex-column align-items-center upload-file"><img
                     src="assets/img/modal-upload/file-minus.svg">
                  <input type="file" ng2FileSelect [uploader]="uploader" multiple>
                  <div class="d-flex"><img src="assets/img/modal-upload/upload.svg">Upload File</div>
               </a>
            </div>

            <div class="upload-doc-box d-flex justify-content-center align-items-center"
               *ngIf="!addNewAadhaarImageUpload && !clickedWebcamPicture">
               <img *ngIf="aadharDisplayImage?.contentType !== 'application/pdf'" src="{{aadharDisplayImage?.file}}">
               <img *ngIf="aadharDisplayImage?.contentType === 'application/pdf'"
                  src="assets/img/modal-upload/pdf_icon.png">
               <span (click)="removeAadhaarMedia(aadharDisplayImage?.file)"><img
                     src="assets/img/modal-upload/edit.svg">Edit
                  Image/File</span>
            </div>
         </div>

         <div class="col-md-10" *ngIf="fileUploading">
            <div class="upload-box upload-progress">
               <h5>Uploading File...</h5>
               <div class="progress-ratio d-flex justify-content-between"><span>
                     Uploading...</span><span>{{uploadProgress}} %</span></div>
               <div class="progress">
                  <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploadProgress + '%' }"></div>
               </div>
               <p>Please wait, This may take some time</p>
            </div>
         </div>

         <div class="col-md-2 p-md-0" *ngIf="!isEnableSignaturePad">
            <div class="scroll-upload">
               <button class="add-img" (click)="addNewDocumentImage()"><span>+</span>Add New Image/File</button>
               <button class="view-img" *ngFor="let mediaPreview of mediaPreviews; let i = index">
                  <div class="img-td-div" (click)="documentShowBigMedia(i,true)">
                     <img *ngIf="mediaPreview?.contentType !== 'application/pdf'" src="{{ mediaPreview?.file }}"
                        alt="img">
                     <img class="pdf-listview" *ngIf="mediaPreview?.contentType === 'application/pdf'"
                        src="assets/img/modal-upload/pdf_icon.png" alt="img">
                  </div>
               </button>
            </div>
         </div>
      </div>
      <!----------------- UPLOAD image/file aadhar: END -------------->

      <!----------------- VIEW image/file : START -------------->
      <div class="row mr-md-0" *ngIf="viewSectionOfImage">
         <div class="col-md-10" *ngIf="!fileUploading">
            <div class="upload-doc-box"
               *ngIf="viewPreviewDisplayImage?.content_type === 'image/jpeg' || viewPreviewDisplayImage?.content_type === 'image/jpg' || viewPreviewDisplayImage?.content_type === 'image/png'">
               <img src="{{viewPreviewDisplayImage?.url}}">
               <span (click)="removeViewSectionMedia(viewPreviewDisplayImage?.id)">
                  <img src="assets/img/modal-upload/edit.svg">Remove Image/File</span>
            </div>
            <div class="upload-doc-box" *ngIf="viewPreviewDisplayImage?.content_type === 'application/pdf'">
               <iframe [src]="viewPreviewDisplayImage?.url | safeUrl" height="100%" width="100%"></iframe>
               <span (click)="removeViewSectionMedia(viewPreviewDisplayImage?.id)">
                  <img src="assets/img/modal-upload/edit.svg">Remove Image/File</span>
            </div>
         </div>

         <div class="col-md-2 p-md-0">
            <div class="scroll-upload">
               <button class="add-img" (click)="addNewDocumentImage()"><span>+</span>Add New
                  Image/File</button>
               <button class="view-img" *ngFor="let mediaPreview of viewMediaPreviewsList; let i = index">
                  <div class="img-td-div" (click)="previewImageBig(i)">
                     <img src="{{ mediaPreview?.url }}" alt="img">
                  </div>
               </button>
            </div>
         </div>
      </div>
      <!----------------- VIEW image/file : END -------------->

      <div class="modal-footer d-flex justify-content-between">
         <a class="btn modal-btn-cancel" (click)="c('cancel')" href="javascript:void(0)">Cancel</a>
         <a *ngIf="!isEnableSignaturePad" [ngClass]="{'disabled': !uploader?.getNotUploadedItems().length}"
            class="btn modal-btn-continue" (click)="submitDocumentUploadModal()" href="javascript:void(0)">
            Save & Continue
         </a>
         <a *ngIf="isEnableSignaturePad" [ngClass]="{'disabled': !signatureImage?.length}"
            class="btn modal-btn-continue" (click)="submitSignaturePadImageModal()" href="javascript:void(0)">
            Save & Continue
         </a>
      </div>
   </div>
</ng-template>

<ng-template #ipvPopup let-c="close" let-d="dismiss">
   <app-in-person-video [ipvDocStatus]="ipvDocumentStatus" [nameDocument]="nameOfDocument"
      [nameTitleDocument]="nameOfTitleDocument" (closeEvent)="cancelModal('ipv')"></app-in-person-video>
</ng-template>