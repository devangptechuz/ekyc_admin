<section class="application admin-list">
   <div class="container">
      <!-- Nav tabs -->
      <!-- Tab panes -->
      <div id="content" class="tab-content" role="tablist">
         <div id="pane-A" class="card tab-pane fade show active" role="tabpanel" aria-labelledby="tab-A">
            <div class="card-header" role="tab" id="heading-A">
            </div>

            <!-- Note: New place of `data-parent` -->
            <div id="collapse-A" class="collapse show" data-parent="#content" role="tabpanel"
               aria-labelledby="heading-A">
               <div class="card-body">
                  <div class="custom-datatable mt-0">
                     <div class="header row d-flex justify-content-between">
                        <div class="col-md-2 d-flex align-items-center ">
                           <h2 class="mb-0">Users</h2>
                        </div>
                        <div class="col-md-10 d-flex align-items-center justify-content-end">
                           <div class="search"><input type="search" name="" (keyup)='updateFilter($event)'
                                 placeholder="search by Admin user name or email or phone number" class="form-control"><button
                                 class="btn-search"><span class="icon-search"></span></button></div>
                           <div><button style="margin-left: 24px" class="btn btn-primary btn-lg mt-2"
                                 routerLink="/admins/add-admin">Add New Admin</button></div>
                          <button class="btn btn-custom mb-0" routerLink="/admins/add-admin">Add New Admin</button>
                          <button class="btn btn-custom mb-0" [disabled]="!deleteFlag" (click)="deleteAdmins()">Delete Admins</button>
                        </div>
                     </div>
                     <div class="tble">
                        <ngx-datatable class="bootstrap" [loadingIndicator]="loadingIndicator" [columnMode]="'force'"
                           [headerHeight]="50" [scrollbarH]="true" [footerHeight]="50" [rowHeight]="70"
                           [limit]="limitRow" [rows]="rows" [sorts]="[{prop: 'uname', dir: 'asc'}]"
                           [selected]="selected" [selectionType]="'checkbox'" [selectAllRowsOnPage]="false"
                           (select)='onSelect($event)'>
                           <ngx-datatable-column name="" [width]="10" [checkboxable]="true" [sortable]="true"
                              prop="selected">
                           </ngx-datatable-column>
                           <ngx-datatable-column [width]="50" name="user name" [sortable]="true" prop="firstname">
                              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row">
                                 <a class="user-img dummy-icon"><img src="assets/img/user-ic.svg"></a>
                                 <a data-tooltip title="{{row.username}}">{{row.username}}</a>
                              </ng-template>
                           </ngx-datatable-column>
                           <ngx-datatable-column [width]="80" name="Email" [sortable]="true" prop="email">
                           </ngx-datatable-column>
                           <ngx-datatable-column [width]="80" name="Mobile Number" [sortable]="true"
                              prop="mobileNumber">
                           </ngx-datatable-column>
                           <ngx-datatable-column [width]="80" name="Account type" [sortable]="true" prop="status">
                              <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row">
                                 {{row.userType | userType}}
                              </ng-template>
                           </ngx-datatable-column>
                           <ngx-datatable-column [width]="20" name="Actions" [sortable]="false" prop="id">
                              <ng-template let-row="data" let-value="value" ngx-datatable-cell-template>
                                 <span>
                                    <!--  <button (click)="onEdit(value)" class="btn"><img src="../assets/img/trash.svg" class="btn"></button> -->
                                    <a #btnElement (click)="onDelete(btnElement,value)" class="danger">
                                       <i class="ft-trash font-medium-3"></i>
                                    </a>
                                    <a (click)="onEdit(value)" class="success ml-2">
                                       <i class="ft-edit-2 font-medium-3 mr-2"></i>
                                    </a>
                                 </span>
                              </ng-template>
                           </ngx-datatable-column>
                        </ngx-datatable>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</section>

<div *ngIf="deleteFlag" class="fixed-status">
   <label>Applications selected : <strong>{{adminsSelectCount}}</strong></label>
   <ul>
      <li (click)="deleteAdmins()"><img src="assets/img/trash.svg">Delete selected</li>
      <li (click)="cancelAll()"><img src="assets/img/not-allow.svg" >Cancel all</li>
   </ul>
</div>
